<html>
<head>
<meta charset="utf-8">
<title>Alta de Dispositivo</title>
</head>
<body>
	<div ng-show="error" class="alert alert-warning"> {{error.message}}</div>
	<section class="content-header">
		<h1>Alta de Dispositivos</h1>
		<ol class="breadcrumb">
			<li><a><i class="fa fa-book"></i>Dispositivos</a></li>
			<li class="active">Alta de Dispositivos</li>
		</ol>
	</section>

	<!-- Main content -->
	<section class="content">
		<form id="form" role="form" name="altaDispositivo">
			<div class="row">
				<section class="col-lg-offset-2 col-lg-8 connectedSortable">
				
					<div class="box box-danger">
						<div class="box-header with-border text-center">
							<h3 class="box-title">Datos del Dispositivo</h3>
						</div>
						<div class="box-body">
							<div class="form-group">
								<div class="row">
								
									<div class="col-sm-4">
										<div class="form-group" ng-class="{'has-error': (altaDispositivo.numSerie.$invalid && altaDispositivo.numSerie.$dirty) || (duplicate.numSerie!=null)}">
											<label for="numSerie">*Número de Serie:</label>
											<div class="input-group">
												<span class="input-group-addon">
													<i class="fa fa-sort-numeric-asc"></i>
												</span>
												<input type="text" class="form-control" id="numSerie" name="numSerie" ng-model="dispositivo.numSerie"  maxlength="45" integer-number ng-required="true" ng-change="resetDuplicate('numSerie')">
											</div>
											<div ng-show="altaDispositivo.numSerie.$error.required && altaDispositivo.numSerie.$dirty" ng-style="{color:'red'}">El número de serie es requerido</div>
											<div ng-show="duplicate.numSerie!=null" ng-style="{color:'red'}">{{duplicate.numSerie}}</div>
											
										</div>
									</div>
									
									<div class="col-sm-4">
										<div class="form-group" ng-class="{'has-error': (altaDispositivo.numSim.$invalid && altaDispositivo.numSim.$dirty) || (duplicate.numSim!=null)}">
											<label for="numSim">*Número Sim:</label>
											<div class="input-group">
												<span class="input-group-addon">
													<i class="fa fa-cog"></i>
												</span>
												<input type="text" class="form-control" id="numSim" name="numSim" ng-model="dispositivo.numSim"  maxlength="45" ng-required="true" ng-change="resetDuplicate('numSim')">
											</div>
											<div ng-show="altaDispositivo.numSim.$error.required && altaDispositivo.numSim.$dirty" ng-style="{color:'red'}">El número sim es requerido</div>
											<div ng-show="duplicate.numSim!=null" ng-style="{color:'red'}">{{duplicate.numSim}}</div>
										</div>
									</div>
									
									<div class="col-sm-4">
										<div class="form-group" ng-class="{'has-error': (altaDispositivo.numIp.$invalid && altaDispositivo.numIp.$dirty) || (duplicate.ip!=null)}">
											<label for="numSim">*IP:</label>
											<div class="input-group">
												<span class="input-group-addon">
													<i class="fa fa-map-marker"></i>
												</span>
												<input type="text" class="form-control" id="numIp" name="numIp" ng-model="dispositivo.numIp"  maxlength="45" ng-required="true" ng-change="resetDuplicate('ip')"
												ng-pattern='/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/'>
											</div>
											<div ng-show="altaDispositivo.numIp.$error.required && altaDispositivo.numIp.$dirty" ng-style="{color:'red'}">La IP es requerida</div>
											<div ng-show="altaDispositivo.numIp.$dirty && altaDispositivo.numIp.$invalid" ng-style="{color:'red'}">Formato de IP incorrecto</div>
											<div ng-show="duplicate.ip!=null" ng-style="{color:'red'}">{{duplicate.ip}}</div>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-sm-4">
										<div class="form-group" ng-class="{'has-error': altaDispositivo.marca.$invalid && altaDispositivo.marca.$dirty}">
											<label for="marca">*Marca:</label>
											<div class="input-group">
												<span class="input-group-addon">
													<i class="fa fa-adjust"></i>
												</span>
												<select ng-options="item as item.marca.marca for item in catalogo.marcasModelos track by item.marca.marcaId"
												ng-change="cambiaModelo()"
												id="marca"
												name="marca"
												class="form-control"
												ng-model="modeloCatalogo">
												</select>
											</div>
										</div>
									</div>
									
									<div class="col-sm-4">
										<div class="form-group" ng-class="{'has-error': altaDispositivo.modelo.$invalid && altaDispositivo.modelo.$dirty}">
											<label for="modelo">*Modelo:</label>
											<div class="input-group">
												<span class="input-group-addon">
													<i class="fa fa-bullseye"></i>
												</span>
												<select 
												ng-options="modelo.modeloId as modelo.modelo for modelo in modeloCatalogo.modelos"
												id="modelo"
												name="modelo"
												class="form-control"
												ng-model="dispositivo.modelo">
												</select>
											</div>
										</div>
									</div>
								
									<div class="col-sm-4">
										<div class="form-group" ng-class="{'has-error': altaDispositivo.tipoDispositivo.$invalid && altaDispositivo.tipoDispositivo.$dirty}">
											<label for="tipoDispositivo">*Tipo de Dispositivo:</label>
											<div class="input-group">
												<span class="input-group-addon">
													<i class="fa fa-mobile"></i>
												</span>
												<select ng-options="item.idTipoDispositivo as item.tipoDispositivo for item in catalogo.tiposDispositivos"
												id="tipoDispositivo"
												name="tipoDispositivo"
												class="form-control"
												ng-model="dispositivo.tipoDispositivo">
												</select>
											</div>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-sm-4">
										<div class="form-group">
											<label for="zonaVial">Zona Vial:</label>
											<div class="input-group">
												<span class="input-group-addon">
													<i class="fa fa-map-pin"></i>
												</span>
												<select 
												ng-options="item.idZonaVial as item.nombreZonaVial for item in catalogo.zonasViales"
												id="zonaVial"
												name="zonaVial"
												class="form-control"
												ng-model="dispositivo.zonaVial">
												<option value="">Seleccione</option>
												</select>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="box-footer with-border text-center">
							<button class="btn btn-danger" ng-click="guardar()" type="button">Guardar</button>
						</div>
					</div>
				</section>
			</div>
		</form>
		{{respo}}
	</section>
</body>